<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Micromoon — anonymous, 24-hour moods</title>

  <!-- Leaflet + plugins (kept) -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" />
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css" />
  <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>

  <script src="https://unpkg.com/leaflet.heat@0.2.0/dist/leaflet-heat.js"></script>

  <!-- Inter font -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:opsz,wght@14..32,300;14..32,400;14..32,600;14..32,700;14..32,800&display=swap"
    rel="stylesheet" />

  <style>
    /* =========================
       MICROMOON — DARK BLUE UI
       ========================= */

    :root{
      /* Deep dark-blue palette (no greens) */
      --bg0:#050b1b;
      --bg1:#08112a;
      --bg2:#0a173b;
      --bg3:#0c1d4c;

      --card:#0e1f49cc;
      --card-2:#0b1b3fcc;

      --stroke: rgba(198,212,255,.14);
      --stroke-2: rgba(198,212,255,.10);
      --soft: rgba(255,255,255,.06);

      --text:#eaf1ff;
      --muted:#c2cff6;
      --muted-2:#aebcf0;

      --brand1:#a6c6ff; /* ice/periwinkle */
      --brand2:#8eaaff; /* soft blue */
      --accent:#dce6ff; /* pale blue highlight */
      --edge:#9fb7ff;   /* glow edge */

      --shadow-1: 0 24px 64px rgba(0,0,30,.55);
      --shadow-2: 0 8px 24px rgba(0,0,20,.45);

      --r-xl:28px;
      --r-lg:24px;
      --r-md:18px;
      --r-sm:14px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      color:var(--text);
      background:
        radial-gradient(1600px 1000px at 78% 68%, #0d2a60 0%, var(--bg2) 44%, var(--bg1) 72%, var(--bg0) 100%),
        linear-gradient(180deg, var(--bg2), var(--bg1));
      font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      overflow-x:hidden;
    }

    /* ---------- Background sky layers (dark blue only) ---------- */

    .sky{ position:fixed; inset:0; pointer-events:none; }
    .aurora{
      z-index:0;
      filter: blur(46px) saturate(122%);
      opacity:.88;
    }
    .aurora::before{
      content:"";
      position:absolute;
      inset:-12% -12% auto -12%;
      height:70%;
      background:
        radial-gradient(1200px 420px at 22% 24%, rgba(120,170,255,.16), transparent 56%),
        radial-gradient(1050px 360px at 84% 68%, rgba(150,170,255,.12), transparent 60%),
        radial-gradient(800px 200px at 50% 10%, rgba(160,200,255,.10), transparent 55%);
      animation: auroraFloat 26s ease-in-out infinite alternate;
    }
    .aurora::after{
      content:"";
      position:absolute;
      inset:auto -12% -18% -12%;
      height:64%;
      background:
        radial-gradient(1000px 320px at 12% 90%, rgba(110,140,255,.14), transparent 60%),
        radial-gradient(960px 300px at 92% 20%, rgba(120,160,255,.10), transparent 60%);
      filter: blur(24px) saturate(118%);
      opacity:.75;
      animation: auroraFloat 32s ease-in-out infinite alternate-reverse;
    }
    @keyframes auroraFloat{
      to{ transform: translateY(-2%) translateX(1%); }
    }

    /* Star canvas (blue glow) */
    #stars{
      position:fixed;
      inset:0;
      z-index:1;
      pointer-events:none;
    }

    /* Subtle comets (blue) */
    .meteors{
      position:fixed;
      inset:0;
      z-index:2;
      pointer-events:none;
    }
    .meteors:before,
    .meteors:after{
      content:"";
      position:absolute;
      width:2px; height:2px;
      background:#eef4ff;
      border-radius:50%;
      box-shadow:
        0 0 12px 3px rgba(170,195,255,.65),
        0 0 26px 8px rgba(120,155,255,.35);
      animation: comet 8s linear infinite;
    }
    .meteors:after{ left:68%; top:20%; animation-delay:3.8s; }
    .meteors:before{ left:18%; top:72%; }
    @keyframes comet{
      0%{ opacity:0; transform: translate(0,0); }
      10%{ opacity:.95; }
      55%{ opacity:.85; transform: translate(270px,-170px); }
      100%{ opacity:0; transform: translate(540px,-340px); }
    }

    /* ---------- Page wrapper ---------- */

    .page{
      position:relative;
      z-index:3;
      max-width:1240px;
      margin:0 auto;
      padding:24px clamp(14px, 2vw, 20px) 120px;
    }

    /* ---------- Top bar ---------- */

    .top{
      display:flex;
      gap:10px;
      align-items:center;
      justify-content:space-between;
      position:sticky;
      top:0;
      padding:8px 0 12px;
      backdrop-filter: blur(8px);
      z-index:9;
    }

    .cluster{
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
    }

    .slab{
      display:flex;
      align-items:center;
      gap:10px;
      padding:8px 12px;
      border-radius:var(--r-sm);
      background: linear-gradient(180deg, rgba(14,28,64,.78), rgba(10,22,46,.64));
      border:1px solid var(--stroke);
      box-shadow: var(--shadow-2);
    }

    /* Logo (keep as is) */
    .brand{
      display:flex;
      align-items:center;
      gap:12px;
    }
    .logoWrap{
      position:relative;
      width:34px; height:34px;
    }
    .brand strong{
      font-weight:800;
      letter-spacing:.3px;
      font-size:18px;
    }
    /* language pills */
    .lang{ gap:8px; }
    .lang-btn{
      background: transparent;
      color:var(--text);
      border:1px solid transparent;
      padding:8px 10px;
      border-radius:12px;
      cursor:pointer;
      font-weight:800;
    }
    .lang-btn.active{
      background:#162a58;
      border-color:var(--stroke);
    }

    /* ---------- Hero ---------- */

    .hero{
      margin-top:10px;
      position:relative;
      overflow:hidden;
      border:1px solid var(--stroke);
      border-radius:var(--r-xl);
      box-shadow: var(--shadow-1);
      background: linear-gradient(180deg, rgba(14,28,64,.80), rgba(10,22,46,.64));
      padding: clamp(24px, 3vw, 44px);
    }
    .hero:before{
      content:"";
      position:absolute;
      inset:-2px;
      border-radius: inherit;
      background: radial-gradient(820px 160px at 12% -6%, rgba(160,200,255,.16), transparent 42%);
      pointer-events:none;
    }

    #deepPhrase{
      font-weight:800;
      font-size: clamp(28px, 4.2vw, 48px);
      line-height:1.06;
      letter-spacing:-.02em;
      text-wrap:balance;
    }

    .brand-gradient{
      background: linear-gradient(90deg, var(--brand1), var(--brand2));
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
      text-shadow: 0 1px 0 rgba(0,0,30,.45);
    }

    /* constellation mesh hint (decor only; no scripting needed) */
    .mesh{
      position:absolute;
      inset:0;
      pointer-events:none;
      opacity:.35;
      mask-image: radial-gradient(160% 70% at 50% 40%, #000 40%, transparent 78%);
    }
    .mesh svg{ width:100%; height:100%; }
    .mesh .line{
      stroke:#cfe3ff;
      stroke-opacity:.35;
      stroke-width:1;
      stroke-dasharray:5 6;
    }
    .mesh .star{ fill:#fff; opacity:.8; }

    /* Info pills under hero */
    .infocards{
      display:grid;
      grid-template-columns:repeat(3, minmax(0,1fr));
      gap:14px;
      margin-top:14px;
    }
    .pill{
      border:1px solid var(--stroke);
      background:var(--card);
      border-radius: 16px;
      padding:12px 14px;
      color:var(--muted);
      font-weight:600;
      text-align:center;
    }

    /* ---------- Controls two-column ---------- */

    .controls{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:18px;
      margin-top:22px;
    }

    .card{
      position:relative;
      border:1px solid var(--stroke);
      background:var(--card);
      border-radius: var(--r-xl);
      box-shadow: var(--shadow-1);
      padding:18px clamp(14px, 2vw, 22px);
      overflow:hidden;
    }
    .card::after{
      content:"";
      position:absolute; inset:0;
      border-radius:inherit;
      pointer-events:none;
      box-shadow:
        0 0 0 1px color-mix(in oklab, var(--edge) 28%, transparent) inset,
        0 0 26px color-mix(in oklab, var(--edge) 18%, transparent);
    }
    .card h2, .card h3{
      margin:0 0 10px;
      letter-spacing:.02em;
    }
    .card h2{
      font-size: clamp(18px, 2.1vw, 22px);
    }
    .row{ display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
    .help{ color:var(--muted); font-size:14px; }

    /* Mood legend chips */
    .legend{
      display:flex; gap:8px; flex-wrap:wrap; margin-top:10px;
    }
    .chip{
      display:inline-flex; align-items:center; gap:8px;
      padding:8px 10px; border-radius:999px;
      border:1px solid var(--stroke);
      background:#0f2354b5;
      font-weight:700; color:#eaf1ff;
      box-shadow: inset 0 0 18px rgba(255,255,255,.06);
    }
    .dot{
      width:9px; height:9px; border-radius:50%;
      box-shadow: 0 0 10px currentColor;
    }

    /* Inputs */
    #moodPicker{ display:flex; gap:10px; flex-wrap:wrap; }
    #moodPicker button{
      font-size:20px;
      line-height:1;
      padding:8px 10px;
      border-radius:12px;
      background:#162b66;
      color:var(--text);
      border:1px solid var(--stroke);
      cursor:pointer;
      transition:.18s ease;
    }
    #moodPicker button.active{
      outline:2px solid var(--accent);
      background:#112457;
    }

    textarea{
      width:100%;
      min-height:110px;
      resize:vertical;
      border-radius:14px;
      border:1px solid var(--stroke);
      background:#0d1f48;
      color:var(--text);
      padding:12px 14px;
      font: inherit;
    }
    .btn{
      appearance:none;
      border:1px solid var(--stroke);
      background:#2a3f7a;
      color:white;
      padding:10px 14px;
      border-radius:14px;
      cursor:pointer;
      font-weight:800;
    }
    .btn.primary{
      background:white;
      color:#102457;
    }
    .btn:disabled{
      opacity:.55;
      cursor:not-allowed;
    }

    label.checkbox{
      display:flex;
      gap:10px;
      align-items:center;
      user-select:none;
    }
    input[type="checkbox"]{
      width:18px; height:18px;
      accent-color:#a7c4ff;
    }

    .range{
      display:grid;
      grid-template-columns:auto 1fr auto;
      gap:10px;
      align-items:center;
    }
    input[type="range"]{ width:100%; }

    /* ---------- Map ---------- */

    .mapWrap{ margin-top:20px; }
    #map{
      width:100%;
      height: clamp(440px, 54vh, 640px);
      border-radius:var(--r-xl);
      overflow:hidden;
      border:1px solid var(--stroke);
      box-shadow: var(--shadow-1);
      background:#0a173c;
    }
    #crosshair{ position:absolute; inset:auto 0 0 0; height:0; }
    #crosshair.hidden{ display:none; }

    /* ---------- Story / About ---------- */

    .story{
      margin-top:36px;
      padding:26px clamp(14px, 2vw, 20px);
      border:1px solid var(--stroke);
      border-radius:var(--r-xl);
      background: linear-gradient(180deg, rgba(14,28,64,.80), rgba(10,22,46,.64));
      box-shadow: var(--shadow-1);
    }
    .story h2{
      margin:0 0 8px;
      font-size:clamp(18px, 2vw, 22px);
    }
    .story p{ margin:8px 0; color:#e9efff; }
    .steps{
      display:grid;
      grid-template-columns:repeat(3,1fr);
      gap:14px;
      margin-top:12px;
    }
    .step{
      border:1px solid var(--stroke);
      border-radius:18px;
      padding:14px;
      background:#0f2452b5;
    }
    .step h3{ margin:0 0 6px; font-size:16px; }

    .footer{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:14px;
      margin-top:14px;
      color:#c4d2ff;
      font-size:14px;
    }

    /* ---------- Extra sections to deepen identity (static) ---------- */

    .values{
      margin-top:28px;
      display:grid;
      grid-template-columns:repeat(3,1fr);
      gap:16px;
    }
    .value{
      border:1px solid var(--stroke);
      background:var(--card-2);
      border-radius:var(--r-lg);
      padding:16px;
      box-shadow:var(--shadow-2);
    }
    .value h3{ margin:0 0 8px; font-size:16px; }
    .value p{ margin:0; color:var(--muted); }

    .gallery{
      margin-top:28px;
      display:grid;
      grid-template-columns:repeat(6,1fr);
      gap:8px;
    }
    .tile{
      aspect-ratio:1/1;
      border-radius:14px;
      background:
        linear-gradient(180deg, rgba(20,30,70,.8), rgba(12,22,52,.9));
      border:1px solid var(--stroke-2);
      box-shadow: var(--shadow-2);
      position:relative;
      overflow:hidden;
    }
    .tile::after{
      content:"";
      position:absolute; inset:0;
      background:
        radial-gradient(180px 120px at 70% 20%, rgba(150,170,255,.15), transparent 60%),
        radial-gradient(200px 140px at 30% 80%, rgba(110,140,255,.12), transparent 60%);
      opacity:.4;
    }

    .faq{
      margin-top:28px;
      border:1px solid var(--stroke);
      border-radius:var(--r-lg);
      background:var(--card);
      box-shadow:var(--shadow-2);
      padding:16px;
    }
    .faq h3{ margin:0 0 8px; font-size:18px; }
    .qa{
      border-top:1px solid var(--stroke-2);
      padding:12px 0;
    }
    .qa:first-of-type{ border-top:none; }
    .qa strong{ display:block; margin-bottom:6px; }
    .qa p{ margin:0; color:var(--muted); }

    /* ---------- Toast host ---------- */
    #toastHost{
      position:fixed;
      left:50%;
      transform: translateX(-50%);
      bottom:18px;
      z-index:99;
      display:flex;
      gap:10px;
      flex-direction:column;
      align-items:center;
      pointer-events:none;
    }

    /* ---------- Mobile ---------- */

    @media (max-width: 1200px){
      .gallery{ grid-template-columns:repeat(4,1fr); }
    }
    @media (max-width: 960px){
      .controls{ grid-template-columns: 1fr; }
      .infocards{ grid-template-columns: 1fr; }
      .steps{ grid-template-columns: 1fr; }
      .values{ grid-template-columns: 1fr; }
      .gallery{ grid-template-columns:repeat(3,1fr); }
      .top{ flex-wrap:wrap; gap:10px; }
      #map{ height: 64vh; }
    }
    @media (max-width: 560px){
      .gallery{ grid-template-columns:repeat(2,1fr); }
    }

    /* ---------- Reduce motion ---------- */
    .reduce-motion *{
      animation:none !important;
      transition:none !important;
    }
  </style>
</head>
<body>
  <!-- Background sky -->
  <div class="sky aurora"></div>
  <canvas id="stars"></canvas>
  <div class="meteors"></div>

  <div class="page">
    <!-- Top bar (logo preserved) -->
    <div class="top">
      <div class="cluster">
        <div class="slab brand" id="logoBrand" title="Micromoon">
          <div class="logoWrap" aria-hidden="true">
            <!-- Your crescent logo kept intact -->
            <svg class="moon" viewBox="0 0 64 64" width="34" height="34" aria-hidden="true">
              <defs>
                <radialGradient id="g" cx="40%" cy="40%">
                  <stop offset="0%" stop-color="#f5fbff"/>
                  <stop offset="100%" stop-color="#cde7ff"/>
                </radialGradient>
                <mask id="cres">
                  <rect width="64" height="64" fill="white"/>
                  <circle id="masker" cx="44" cy="28" r="22" fill="black">
                    <animate attributeName="cx" values="44;41;44" dur="9s" repeatCount="indefinite"/>
                    <animate attributeName="cy" values="28;27;28" dur="9s" repeatCount="indefinite"/>
                  </circle>
                </mask>
              </defs>
              <circle cx="32" cy="32" r="22" fill="url(#g)" mask="url(#cres)"/>
            </svg>
          </div>
          <strong>Micromoon</strong>
        </div>

        <div class="slab">
          <span>🌕</span>
          <span id="moonLabel">Moon phase</span>
        </div>
      </div>

      <div class="cluster">
        <div class="slab">
          <label class="row" style="gap:8px;">
            <input id="toggleMotion" type="checkbox"/>
            <span>Reduce motion</span>
          </label>
        </div>

        <div class="slab lang">
          <button class="lang-btn active" data-lang="en">EN</button>
          <button class="lang-btn" data-lang="de">DE</button>
          <button class="lang-btn" data-lang="es">ES</button>
          <button class="lang-btn" data-lang="fr">FR</button>
          <button class="lang-btn" data-lang="ar">AR</button>
          <button class="lang-btn" data-lang="ru">RU</button>
          <button class="lang-btn" data-lang="zh">中文</button>
        </div>
      </div>
    </div>

    <!-- Hero -->
    <section class="hero" aria-label="intro">
      <div id="deepPhrase" aria-live="polite"></div>

      <!-- Decorative mesh -->
      <div class="mesh" aria-hidden="true">
        <svg viewBox="0 0 1200 420" preserveAspectRatio="none">
          <g>
            <circle class="star" cx="120" cy="120" r="2"/>
            <circle class="star" cx="240" cy="170" r="2"/>
            <circle class="star" cx="340" cy="110" r="2"/>
            <circle class="star" cx="820" cy="210" r="2"/>
            <circle class="star" cx="910" cy="140" r="2"/>
            <circle class="star" cx="1020" cy="200" r="2"/>
            <line class="line" x1="120" y1="120" x2="240" y2="170"/>
            <line class="line" x1="240" y1="170" x2="340" y2="110"/>
            <line class="line" x1="820" y1="210" x2="910" y2="140"/>
            <line class="line" x1="910" y1="140" x2="1020" y2="200"/>
          </g>
        </svg>
      </div>

      <div class="infocards" aria-hidden="true">
        <div class="pill">Anonymous · no login</div>
        <div class="pill">Ephemeral · 24h only</div>
        <div class="pill">Connection · link similar moods</div>
      </div>
    </section>

    <!-- Controls -->
    <section class="controls" aria-label="controls">
      <!-- LEFT: Pulse card -->
      <section class="card" id="pulseCard">
        <h2 id="ui-pulseTitle">Pulse your mood</h2>

        <h3 id="ui-howFeel" style="margin-top:4px">How do you feel?</h3>
        <div id="moodPicker" class="row" aria-label="mood picker">
          <button type="button" data-mood="-2">😭</button>
          <button type="button" data-mood="-1">☹️</button>
          <button type="button" data-mood="0">😐</button>
          <button type="button" data-mood="1">🙂</button>
          <button type="button" data-mood="2">🤩</button>
        </div>

        <div class="legend" aria-hidden="true">
          <span class="chip"><span class="dot" style="background:#8ebeff"></span>very low</span>
          <span class="chip"><span class="dot" style="background:#b5ccff"></span>low</span>
          <span class="chip"><span class="dot" style="background:#dee7ff"></span>neutral</span>
          <span class="chip"><span class="dot" style="background:#9bffdb"></span>good</span>
          <span class="chip"><span class="dot" style="background:#67ffb0"></span>great</span>
        </div>

        <div style="margin-top:12px">
          <div class="row">
            <strong id="ui-whatsHappening">What’s happening?</strong>
            <span id="ui-optional" class="help">(optional, 280 chars)</span>
          </div>
          <textarea id="note" placeholder="A few words you want to share..."></textarea>
        </div>

        <div class="row" style="margin-top:12px">
          <button id="useMyLocation" class="btn">Use my location</button>
          <span id="ui-orClickMap" class="help">or click on the map</span>
          <button id="toggleCrosshair" class="btn" type="button">Crosshair ✦</button>
        </div>

        <div class="help" style="margin-top:10px">
          <span id="chosenSpot">No spot selected yet.</span>
        </div>

        <label class="checkbox" style="margin-top:12px">
          <input id="connectConsent" type="checkbox" checked />
          <span id="ui-allowConnect">Allow others to connect my dot</span>
        </label>

        <div class="row" style="margin-top:14px">
          <button id="submitMood" class="btn primary">Pulse</button>
          <button id="shareLink" class="btn" disabled>Share</button>
        </div>

        <p id="ui-postsInfo" class="help" style="margin-top:12px">
          Posts are anonymous and visible for 24 hours, then disappear.
        </p>

        <div class="row" style="margin-top:8px">
          <strong id="liveCount">Now: 0 pulses</strong>
          <canvas id="spark" width="160" height="34" style="display:block"></canvas>
        </div>
      </section>

      <!-- RIGHT: Map view options -->
      <section class="card" id="optionsCard">
        <h2>Map view</h2>

        <label class="checkbox">
          <input id="toggleConnections" type="checkbox" />
          <span>Connect similar moods</span>
        </label>

        <div class="row" style="margin-top:8px">
          <strong id="ui-window">Window</strong>
          <select id="windowHours" class="btn" style="padding:8px 10px">
            <option value="6">6h</option>
            <option value="12">12h</option>
            <option value="24" selected>24h</option>
            <option value="48">48h</option>
          </select>
        </div>

        <div class="range" style="margin-top:10px">
          <strong id="ui-radius">Radius</strong>
          <input id="radiusKm" type="range" min="20" max="600" step="10" value="120" />
          <span id="radiusValue" class="help">120km</span>
        </div>

        <div class="row" style="margin-top:10px">
          <label class="checkbox"><input id="toggleHeat" type="checkbox" /> <span>Heatmap</span></label>
          <label class="checkbox"><input id="toggleCluster" type="checkbox" checked /> <span>Cluster</span></label>
        </div>

        <p class="help" style="margin-top:8px">
          Tip: lower the window to 6–12h to see fresher activity.
        </p>

        <div class="infocards" style="margin-top:14px">
          <div class="pill"><strong>Anonymous</strong><br/>No login.</div>
          <div class="pill"><strong>Ephemeral</strong><br/>Dots glow 24h.</div>
          <div class="pill"><strong>Connection</strong><br/>Turn on links.</div>
        </div>
      </section>
    </section>

    <!-- Map -->
    <section class="mapWrap">
      <div id="map" role="region" aria-label="map"></div>
      <div id="crosshair" class="hidden" aria-hidden="true"></div>
    </section>

    <!-- Story -->
    <section id="about" class="story">
      <h2>About Micromoon</h2>
      <p>
        The same moon sees us all. Here, a feeling becomes a small light — anonymous, gentle, and temporary.
        Lights gather and fade. Sometimes they connect. Sometimes they simply keep each other company.
      </p>
      <div class="steps">
        <div class="step"><h3>Why</h3><p>To make distance feel smaller and notice what we share without asking for anything back.</p></div>
        <div class="step"><h3>How</h3><p>Pulse once. Add a few words if you want. Your dot glows for a day, then dissolves into the night.</p></div>
        <div class="step"><h3>Connection</h3><p>Turn on “connect similar” to draw quiet lines between close moods within your chosen radius.</p></div>
      </div>

      <div class="values">
        <div class="value"><h3>Anonymous</h3><p>No accounts, no followers, no pressure.</p></div>
        <div class="value"><h3>Ephemeral</h3><p>24 hours, then gone. Like breath on glass.</p></div>
        <div class="value"><h3>Tender</h3><p>We connect lightly. Quiet lines. No noise.</p></div>
      </div>

      <div class="gallery" aria-hidden="true">
        <div class="tile"></div><div class="tile"></div><div class="tile"></div><div class="tile"></div><div class="tile"></div><div class="tile"></div>
        <div class="tile"></div><div class="tile"></div><div class="tile"></div><div class="tile"></div><div class="tile"></div><div class="tile"></div>
      </div>

      <div class="faq" style="margin-top:24px">
        <h3>FAQs</h3>
        <div class="qa"><strong>Do I need an account?</strong><p>No. You pulse anonymously.</p></div>
        <div class="qa"><strong>How long do dots stay?</strong><p>24 hours, then they disappear.</p></div>
        <div class="qa"><strong>Can I turn off connections?</strong><p>Yes — toggle “Connect similar moods”.</p></div>
      </div>

      <p style="margin-top:10px">
        This is a small personal project by <strong>Mouaz Almjarkesh</strong> — built to see if we still care about connection. Thank you for lighting the map.
      </p>

      <div class="footer">
        <span>© <span id="year"></span> Micromoon</span>
        <span>Built by <strong>Mouaz Almjarkesh</strong></span>
      </div>
    </section>
  </div>

  <!-- Toast host (required by app.js) -->
  <div id="toastHost"></div>

  <!-- Minimal visuals (no API changes) -->
  <script>
    // Year credit
    document.getElementById('year').textContent = new Date().getFullYear();

    // Reduce motion toggle (matches app.js behavior expectation)
    (function(){
      const t=document.getElementById('toggleMotion');
      if(!t) return;
      t.addEventListener('change', ()=>document.body.classList.toggle('reduce-motion', !!t.checked));
    })();

    // Lightweight starfield (blue), battery-friendly
    (function(){
      const c=document.getElementById('stars');
      if(!c || !c.getContext) return;
      const dpr = window.devicePixelRatio || 1;
      const ctx = c.getContext('2d');
      let W,H,stars=[];
      function resize(){
        W = c.width = innerWidth * dpr;
        H = c.height = innerHeight * dpr;
        make();
      }
      function make(){
        const n = Math.floor((innerWidth*innerHeight)/12000);
        stars = Array.from({length:n}, ()=>({
          x:Math.random()*W,
          y:Math.random()*H,
          r:(Math.random()*1.1+0.2)*dpr,
          a:Math.random()*0.6+0.25
        }));
      }
      function tick(){
        if(document.body.classList.contains('reduce-motion')) { requestAnimationFrame(tick); return; }
        ctx.clearRect(0,0,W,H);
        for(const s of stars){
          ctx.globalAlpha=s.a;
          ctx.fillStyle='#e8f2ff';
          ctx.beginPath();
          ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
          ctx.fill();
          s.y += 0.018*dpr;
          if(s.y>H) s.y=-4;
        }
        requestAnimationFrame(tick);
      }
      resize();
      addEventListener('resize', resize);
      tick();
    })();
  </script>

  <!-- Your app logic (unchanged) -->
  <script src="./app.js"></script>
</body>
</html>
